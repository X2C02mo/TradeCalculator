<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Trader Calculator</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root {
  --bg:#000;
  --panel:#0b0b0b;
  --border:#141414;
  --text:#fff;
  --muted:#8a8a8a;
}

* { box-sizing:border-box }

html, body {
  margin:0;
  height:100%;
  background:var(--bg);
  color:var(--text);
  font-family: Arial, sans-serif;
}

#app {
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* HEADER */
header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 12px;
  border-bottom:1px solid var(--border);
}

.tabs {
  display:flex;
  gap:14px;
}

.tabs button {
  background:none;
  border:none;
  color:var(--muted);
  font-size:14px;
  cursor:pointer;
}

.tabs button.active {
  color:var(--text);
  border-bottom:2px solid var(--text);
}

.lang {
  display:flex;
  gap:6px;
}

.lang button {
  background:none;
  border:1px solid var(--border);
  color:var(--muted);
  padding:4px 8px;
  cursor:pointer;
}

.lang button.active {
  color:var(--text);
  border-color:var(--text);
}

/* MAIN */
main {
  flex:1;
  padding:14px;
}

.screen { display:none }
.screen.active { display:block }

.card {
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:6px;
  padding:12px;
}

.field {
  margin-bottom:10px;
}

label {
  display:block;
  font-size:12px;
  color:var(--muted);
  margin-bottom:4px;
}

input {
  width:100%;
  padding:8px;
  background:#050505;
  border:1px solid var(--border);
  color:var(--text);
  border-radius:4px;
}

.result {
  margin-top:10px;
  padding:8px;
  border:1px solid var(--border);
  background:#050505;
}

/* FOOTER */
footer {
  border-top:1px solid var(--border);
  padding:10px;
  text-align:center;
}

.tags {
  font-size:12px;
  color:var(--muted);
  margin-bottom:6px;
}

.links {
  display:flex;
  justify-content:center;
  gap:20px;
}

.rainbow {
  font-weight:bold;
  text-decoration:none;
  background:linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet);
  background-size:400% 400%;
  -webkit-background-clip:text;
  color:transparent;
  animation:rainbow 3s linear infinite;
}

@keyframes rainbow {
  from { background-position:0% }
  to { background-position:100% }
}
</style>
</head>

<body>
<div id="app">

<header>
  <div class="tabs">
    <button class="tab active" data-tab="dca">DCA</button>
    <button class="tab" data-tab="rr">R/R</button>
    <button class="tab" data-tab="cap">Capital</button>
    <button class="tab" data-tab="vis">Visual</button>
  </div>
  <div class="lang">
    <button id="ru" class="active">RU</button>
    <button id="en">EN</button>
  </div>
</header>

<main>

<section id="dca" class="screen active">
  <div class="card">
    <div class="field">
      <label data-i18n="dca.p1">Цена 1</label>
      <input id="p1" type="number">
    </div>
    <div class="field">
      <label data-i18n="dca.v1">Объём 1</label>
      <input id="v1" type="number">
    </div>
    <div class="field">
      <label data-i18n="dca.p2">Цена 2</label>
      <input id="p2" type="number">
    </div>
    <div class="field">
      <label data-i18n="dca.v2">Объём 2</label>
      <input id="v2" type="number">
    </div>
    <div class="result" id="dcaResult" data-i18n="dca.result">
      Средняя цена: —
    </div>
  </div>
</section>

</main>

<footer>
  <div class="tags" data-i18n="tags">АИРДРОП · НОВОСТИ · ТРЕЙДИНГ</div>
  <div class="links">
    <a class="rainbow" href="https://t.me/InvestTraderTrade" target="_blank">TELEGRAM</a>
    <a class="rainbow" href="https://www.youtube.com/@TRADER_TRADE" target="_blank">YOUTUBE</a>
  </div>
</footer>

</div>

<script>
Telegram.WebApp.expand();

const locales = {
  ru: {
    "dca.p1":"Цена 1",
    "dca.v1":"Объём 1",
    "dca.p2":"Цена 2",
    "dca.v2":"Объём 2",
    "dca.result":"Средняя цена",
    "tags":"АИРДРОП · НОВОСТИ · ТРЕЙДИНГ"
  },
  en: {
    "dca.p1":"Price 1",
    "dca.v1":"Volume 1",
    "dca.p2":"Price 2",
    "dca.v2":"Volume 2",
    "dca.result":"Average price",
    "tags":"AIRDROP · NEWS · TRADING"
  }
};

let lang = "ru";

function translate() {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    el.textContent = locales[lang][el.dataset.i18n];
  });
}

document.getElementById("ru").onclick = () => {
  lang = "ru";
  document.getElementById("ru").classList.add("active");
  document.getElementById("en").classList.remove("active");
  translate();
};

document.getElementById("en").onclick = () => {
  lang = "en";
  document.getElementById("en").classList.add("active");
  document.getElementById("ru").classList.remove("active");
  translate();
};

translate();
</script>

</body>
</html>
